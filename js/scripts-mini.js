"use strict";let linkList=document.querySelectorAll('a[href=""]');for(let e=0;e<linkList.length;e++)linkList[e].addEventListener("click",e=>{e.preventDefault()});let mouseDown=!1,customFocusList=document.querySelectorAll(".main-header a,  .main-footer a,\t.catalog-depth-nav a,\t.filter-range-slider,\t.filter-form label,\t.catalog-sorting-section a,\t.compare-item,\t.catalog-pagination-container a,\t.contact-us-map,\t.promo-pagination-list button");for(let e=0;e<customFocusList.length;e++)customFocusList[e].addEventListener("mousedown",()=>{mouseDown=!0}),customFocusList[e].addEventListener("mouseup",e=>{e.preventDefault(),mouseDown=!1}),customFocusList[e].addEventListener("mousemove",e=>{e.preventDefault(),mouseDown=!1}),customFocusList[e].addEventListener("focus",()=>{mouseDown||customFocusList[e].classList.add("focused-by-keyboard")}),customFocusList[e].addEventListener("blur",()=>{customFocusList[e].classList.remove("focused-by-keyboard")});let promoImagesList=document.querySelectorAll(".promo-image-slide"),promoDescriptionsList=document.querySelectorAll(".promo-description-slide"),promoButtonsList=document.querySelectorAll(".promo-pagination-list button"),promoLength=promoDescriptionsList.length;if(0!==promoLength){let e=0;promoDescriptionsList.length===promoImagesList.length&&promoDescriptionsList.length===promoButtonsList.length||alert("Я сломался из-за того, что количество слайдов изображений, их описаний, и кнопок, им соответствующих, не равно ( ͡° ͜ʖ ͡°)");const t=t=>{if(t!==e){for(let e=0;e<promoLength;e++)promoButtonsList[e].disabled=!0;promoImagesList[e].classList.remove("current-slide"),promoDescriptionsList[e].classList.remove("current-slide"),promoButtonsList[e].classList.remove("current-button"),promoImagesList[t].classList.add("current-slide"),promoDescriptionsList[t].classList.add("current-slide"),promoButtonsList[t].classList.add("current-button"),promoDescriptionsList[e].style.animation="dissolve-down 1s",promoImagesList[e].style.animation="dissolve-down 1s",setTimeout(()=>{promoDescriptionsList[e].style.animation="none",promoImagesList[e].style.animation="none"},650),setTimeout(()=>{for(let e=0;e<promoLength;e++)promoButtonsList[e].disabled=!1;promoButtonsList[t].disabled=!0,e=t},650)}};for(let e=0;e<promoLength;e++)promoButtonsList[e].addEventListener("click",s=>{promoButtonsList[e].blur(),t(e)}),promoButtonsList[e].addEventListener("keydown",function(t){"Space"===t.key&&setTimeout(()=>{e<promoLength-1?promoButtonsList[e+1].focus():promoButtonsList[0].focus()},720)})}let servicesButtonList=document.querySelectorAll(".services-button"),servicesInfoList=document.querySelectorAll(".services-info-item"),servicesLength=servicesButtonList.length;if(0!==servicesLength){let e=0;servicesButtonList.length!==servicesInfoList.length&&alert("Добавил кпопку - добавь и слайд ( ͡° ͜ʖ ͡°)");const t=t=>{servicesButtonList[e].disabled=!1,servicesButtonList[t].disabled=!0,servicesInfoList[e].style.animation="dissolve 1s",setTimeout(()=>{servicesInfoList[t].style.animation="appear-from-left 1s"},200);let s=document.querySelector(".services-info-list"),o=document.querySelector(`.services-info-item:nth-of-type(${t+1})`);s.style.height=`${o.clientHeight}px`,servicesInfoList[e].classList.remove("current-info-item"),servicesButtonList[e].classList.remove("services-current-button"),servicesInfoList[t].classList.add("current-info-item"),servicesButtonList[t].classList.add("services-current-button"),e=t};for(let e=0;e<servicesLength;e++)servicesButtonList[e].addEventListener("click",s=>{t(e)})}let filterInputList=document.querySelectorAll(".filter-form input"),filterLabelList=document.querySelectorAll(".filter-form label"),labelsLength=filterLabelList.length;for(let e=0;e<labelsLength;e++)filterLabelList[e].addEventListener("keydown",function(t){"Space"!==t.key&&"Enter"!==t.key||(filterInputList[e].checked&&"checkbox"===filterInputList[e].type?filterInputList[e].checked=!1:filterInputList[e].checked=!0)});let mapPopup=document.querySelector(".map-popup"),mapIframe=document.querySelector(".map-popup iframe");if(mapPopup){let e=document.querySelector(".contact-us-map"),t=document.querySelector(".close-map-popup");e.addEventListener("click",()=>{mapPopup.classList.add("is-displayed"),mapPopup.focus()}),t.addEventListener("click",()=>{mapPopup.classList.remove("is-displayed"),e.focus()}),window.addEventListener("keydown",e=>{"Escape"===e.key&&mapPopup.classList.contains("is-displayed")&&(e.preventDefault(),mapPopup.classList.remove("is-displayed"))})}let writeUsPopup=document.querySelector(".write-us-popup"),writeUsForm=document.querySelector(".write-us-form");if(writeUsPopup){let e=document.querySelector(".write-us-button"),t=document.querySelector(".close-write-us-popup"),s=document.getElementById("write-us-name"),o=document.getElementById("write-us-email"),i=document.getElementById("write-us-message"),r=!0,n="",l="";try{n=localStorage.getItem("name"),l=localStorage.getItem("email")}catch(e){r=!1}e.addEventListener("click",()=>{writeUsPopup.classList.add("is-displayed"),setTimeout(function(){n?(s.value=n,o.value=l,i.focus()):s.focus()},100)}),writeUsForm.addEventListener("submit",e=>{s.value&&o.value&&i.value?r&&(localStorage.setItem("name",s.value),localStorage.setItem("email",o.value),writeUsPopup.classList.remove("error-animation")):(e.preventDefault(),writeUsPopup.classList.remove("error-animation"),writeUsPopup.offsetWidth,writeUsPopup.classList.add("error-animation"))}),t.addEventListener("click",e=>{writeUsPopup.classList.remove("is-displayed")}),window.addEventListener("keydown",e=>{"Escape"===e.key&&writeUsPopup.classList.contains("is-displayed")&&writeUsPopup.classList.remove("is-displayed")})}
